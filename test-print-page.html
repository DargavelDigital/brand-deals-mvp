<!DOCTYPE html>
<html>
<head>
    <title>Test Print Page</title>
</head>
<body>
    <h1>PDF Generation Test</h1>
    <p>Test the new React-based print page with different themes:</p>
    
    <div id="tests">
        <h2>Direct Print Page Tests:</h2>
        <ul>
            <li><a href="https://hyper.hypeandswagger.com/media-pack/print?mp=test-classic&variant=classic&dark=0&onePager=0&brandColor=%233b82f6" target="_blank">Classic Light Blue</a></li>
            <li><a href="https://hyper.hypeandswagger.com/media-pack/print?mp=test-dark&variant=classic&dark=1&onePager=0&brandColor=%23ef4444" target="_blank">Classic Dark Red</a></li>
            <li><a href="https://hyper.hypeandswagger.com/media-pack/print?mp=test-onepager&variant=classic&dark=0&onePager=1&brandColor=%2310b981" target="_blank">Classic One-Pager Green</a></li>
            <li><a href="https://hyper.hypeandswagger.com/media-pack/print?mp=test-bold&variant=bold&dark=0&onePager=0&brandColor=%238b5cf6" target="_blank">Bold Light Purple</a></li>
            <li><a href="https://hyper.hypeandswagger.com/media-pack/print?mp=test-editorial&variant=editorial&dark=1&onePager=0&brandColor=%23f59e0b" target="_blank">Editorial Dark Orange</a></li>
        </ul>
        
        <h2>PDF Generation Tests:</h2>
        <button onclick="testPDFGeneration()">Run PDF Generation Tests</button>
        <div id="results"></div>
    </div>

    <script>
        const testThemes = [
            {
                name: "Classic Light Blue",
                variant: "classic",
                dark: false,
                onePager: false,
                brandColor: "#3b82f6"
            },
            {
                name: "Classic Dark Red",
                variant: "classic", 
                dark: true,
                onePager: false,
                brandColor: "#ef4444"
            },
            {
                name: "Classic One-Pager Green",
                variant: "classic",
                dark: false,
                onePager: true,
                brandColor: "#10b981"
            },
            {
                name: "Bold Light Purple",
                variant: "bold",
                dark: false,
                onePager: false,
                brandColor: "#8b5cf6"
            },
            {
                name: "Editorial Dark Orange",
                variant: "editorial",
                dark: true,
                onePager: false,
                brandColor: "#f59e0b"
            }
        ];

        async function testPDFGeneration() {
            const resultsDiv = document.getElementById('results');
            resultsDiv.innerHTML = '<h3>Running PDF Generation Tests...</h3>';
            
            for (const theme of testThemes) {
                console.log(`Testing: ${theme.name}`);
                
                try {
                    const response = await fetch("/api/media-pack/generate", {
                        method: "POST",
                        headers: { "Content-Type": "application/json" },
                        body: JSON.stringify({
                            packId: `test-${theme.name.toLowerCase().replace(/\s+/g, '-')}`,
                            ...theme
                        })
                    });
                    
                    const result = await response.json();
                    
                    if (result.ok) {
                        resultsDiv.innerHTML += `<p>✅ ${theme.name}: <a href="${result.fileUrl}" target="_blank">View PDF</a></p>`;
                        console.log("Success:", result.fileUrl);
                    } else {
                        resultsDiv.innerHTML += `<p>❌ ${theme.name}: ${result.error}</p>`;
                        console.error("Failed:", result.error);
                    }
                } catch (error) {
                    resultsDiv.innerHTML += `<p>❌ ${theme.name}: ${error.message}</p>`;
                    console.error("Error:", error.message);
                }
                
                // Wait 2 seconds between tests
                await new Promise(resolve => setTimeout(resolve, 2000));
            }
            
            resultsDiv.innerHTML += '<h3>All tests completed!</h3>';
        }
    </script>
</body>
</html>
